# README

åœ¨macä¸‹ï¼Œå®žçŽ°æœ¬åœ°ä¸ŽæœåŠ¡å™¨è¿›è¡Œä¾¿æ·çš„æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½æ“ä½œ


## æ­¥éª¤

### å®‰è£…lrzsz

è¯¥è½¯ä»¶åŒ…æ”¯æŒrzå’Œszå‘½ä»¤çš„åŒ…

```
â–¶ brew install lrzsz
==> Downloading https://homebrew.bintray.com/bottles/lrzsz-0.12.20_1.mojave.bottle.tar.gz
######################################################################## 100.0%
==> Pouring lrzsz-0.12.20_1.mojave.bottle.tar.gz
ðŸº  /usr/local/Cellar/lrzsz/0.12.20_1: 18 files, 473.5KB
```

### è„šæœ¬è®¾ç½®

å°†è„šæœ¬`iterm2-send-zmodem.sh` å’Œ`iterm2-recv-zmodem.sh`æ‹·è´åˆ°æœ¬åœ°`/usr/local/bin/`ç›®å½•ä¸‹ï¼Œå¹¶å°†æƒé™è®¾ç½®ä¸º777ã€‚

```
â–¶ cp iterm2-* /usr/local/bin
â–¶ chmod 777 /usr/local/bin/iterm2-*
```

### è®¾ç½®Iterm2çš„Tirggerç‰¹æ€§

1ã€æ‰“å¼€profiles

![1](img/open-profiles.png)

![2](img/profiles.png)

ç‚¹å‡» edit profiles

2ã€preferences

![3](img/advanced.png)

ç‚¹å‡»Advancedä¸­çš„Tirggers->Edit

3ã€add triggers

æ·»åŠ ä¸¤æ¡triggerï¼Œåˆ†åˆ«è®¾ç½® Regular expressionï¼ŒActionï¼ŒParametersï¼ŒInstantå¦‚ä¸‹

ç¬¬ä¸€æ¡ï¼š

```
Regular expression: rz waiting to receive.\*\*B0100
Action: Run Silent Coprocess
Parameters: /usr/local/bin/iterm2-send-zmodem.sh
Instant: checked
```

ç¬¬äºŒæ¡ï¼š

```
Regular expression: \*\*B00000000000000
Action: Run Silent Coprocess
Parameters: /usr/local/bin/iterm2-recv-zmodem.sh
Instant: checked
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![4](img/triggers.png)

## ä½¿ç”¨æ–¹æ³•

åœºæ™¯ï¼šåœ¨æœåŠ¡å™¨ä¸Š

1ã€rz

ä»Žæœ¬æœºæ‹·è´æ–‡ä»¶åˆ°æœåŠ¡å™¨ä¸Š

```
$ rz
rz waiting to receive.**B0100000023be50
```

æ­¤æ—¶ä¼šè·³å‡ºä¸€ä¸ªæ¡† ï¼Œé€‰æ‹©æœ¬åœ°è¦ä¸Šä¼ çš„æ–‡ä»¶

```
$ # Received /Users/xiaqunfeng/Downloads/file.tar
```

æ­¤æ—¶å‘çŽ°ï¼Œæ–‡ä»¶å·²ç»æ‹·è´åˆ°æœåŠ¡å™¨ä¸Šäº†

2ã€sz

å°†æœåŠ¡å™¨ä¸Šæ–‡ä»¶æ‹·è´åˆ°æœ¬æœº

```
$ sz file.tar
**B00000000000000
$ # Sent -> /Users/xiaqunfeng/Downloads/
```

æ­¤æ—¶æ–‡ä»¶ file.tar å·²ä¸‹è½½åˆ°Downloadsç›®å½•ä¸‹